<img width="484" height="28" alt="image" src="https://github.com/user-attachments/assets/058eea29-3f8e-4ed8-a5c5-a478b74ca42d" /># CV-UAV-module

## Краткое описание

Программный модуль предназначен для обеспечения безопасности во время полета БПЛА и для обнаружения как подвижных, так и неподвижных объектов при помощи технического зрения и искусственного интеллекта.

## Требования для запуска

* Python: 3.8+ (рекомендуется 3.10)
* Операционная система: Windows, Linux, macOS
* Архитектура: x86_64, arm64 (с PyTorch 2.5.1+)
* Память: минимум 4 ГБ RAM
* Видеокарта: опционально для ускорения (CUDA-совместимая)

## Установка и запуск

1. Установите Python версии 3.10
2. Склонируйте данный репозиторий
3. Установите требуемые библиотеки через команду, запущенную из директории с репозиторием: ``pip install -r requirements.txt``.
4. Запустить ПО с помощью командной строки, указав необходимые арументы для запуска. Пример:

   ```
   python inference.py --path_to_model_w yolo_s_v11_dropout_05_best.pt --from_cam --show_video
   ```

5. Для завершения работы необходимо нажать кнопку "q"

Для того, чтобы запустить программный модуль с использование [conda](https://www.anaconda.com/download/) необходимо запустить скрипт [setup.sh](setup.sh) от пользователя, который имеет права администратора. Данный скрипт создаст новое виртуальное окружение conda и установит все необходимые пакеты, а также автоматически запустит выполнение программного модуля. Этот вариант является рекомендуемым вариантом запуска.

## Описание аргументов при запуске

* `--path_to_model_w ` – путь к файлу, содержащему весовые коэффициенты модели. 
* `--from_cam` – флаг, отвечающий за захват входящего потока с подключенной камеры.
* `--input_video_path ` – флаг, необходимый для обработки видеофайла. Необходимо указать путь к обрабатываемому видеофайлу.

Оба флага --from_cam и --input_video_path не могут использоваться одновременно, программа потребует указать только один источник видео.

* `--show_video` – флаг, отвечающий за демонстрацию работы программного модуля.
* `--save_video` – флаг, отвечающий за сохранение обработанного видеофайлы.
* `--save_logs` – флаг необходимый для сохранения логфайла программного модуля.
* `--output_video_path` – путь к файлу для сохранения видео (по умолчанию output_video.mp4).

## Возможные сценариии использования:

**1. Чтобы запустить модуль с подключенной камерой и вывести видео на экран, команда будет выглядеть так::**
```
python inference.py --path_to_model_w yolo_s_v11_dropout_05_best.pt --from_cam --show_video
```
**2. Обработка видеофайла с сохранением результата и логов:**
```
python inference.py --path_to_model_w yolo_s_v11_dropout_05_best.pt --input_video_path input.mp4 --save_video --save_logs --output_video_path processed_output.mp4
```
**3. Обработка файлов, находящиеся в какой-то директории (необходимо передать путь к директории при помощи --input_dir):**
```
python inference.py --path_to_model_w yolo_s_v11_dropout_05_best.pt --input_dir ./sample
```
